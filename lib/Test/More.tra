my $counter = 0;
my $failed  = 0;

sub ok($b, $msg=undef) {
    ++$counter;
    if ($b) {
        say("ok " + $counter);
    } else {
        say("not ok " + $counter);
        ++$failed;
    }
}

sub fail() {
    say("not ok " + ++$counter);
    ++$failed;
}

sub is($a, $b) {
    ++$counter;
    if ($a==$b) {
        say("ok " + $counter);
    } else {
        say("not ok " + $counter);
        say(" # got:      " + $a);
        say(" # expected: " + $b);
        ++$failed;
    }
}

sub like($a, $b) {
    ++$counter;
    if ($a.match($b)) {
        say("ok " + $counter);
    } else {
        say("not ok " + $counter);
        say(" # got:      " + $a);
        say(" # expected: " + $b);
        ++$failed;
    }
}

sub note($msg) {
    say("# " + $msg);
}


sub done_testing() {
    say("1.." + $counter);
    if ($counter == 0) {
        say('# No tests run!');
    }
    if ($failed > 0) {
        printf("# Looks like you failed %d test of %d.", $failed, $counter);
    }
}

